
Пререквизиты
------------  
Прежде чем читать данный документ,  
ознакомьтесь с вводным материалом:  

1) Что такое "[версия][VER]" ?  
2) Концепция "[Семантического Версионирования][SV]"  
3) [Правила версионирования][WV] принятые в workspace.  

[VER]: version/010-version-format.md     "общие сведения"  
[SV]:  version/020-version-semantic.md   "семантическое версионирование"  
[WV]:  version/030-version-workspace.md  "правила версионирования принятые в workspace"  

workflow
--------
Данный документ описывает принцип организации рабочего процесса.  

<details>
<summary>Принятые в данном файле понятия</summary>

Рабочий процесс - это совокупность всех действий разработчиков,  
которые им нужно совершить, что бы из проекта получился готовый продукт.  

Какие конкретно нужно совершить действия - зависит от конкретных задач.  
Каждая задача начинается с идеи, 
и пройдя через несколько стадий своего развития,  
завершается итоговой реализацией.  

Список всех этапов развития задачи называется "рабочим циклом".  
В рамках одного рабочего процесса 
могут параллельно исполняться сразу несколько задач.  
То есть, несколько рабочих циклов могут протекать одновременно.  

--------------------

</details>

Работа осуществляется по методике [канбан][KANBAN].  
Рабочий цикл начинается с этапа `In progress`, и заканчивается этапом `Done`.  
Названия столбиков:
`Backlog`     - список идей и предложений.  
`To do`       - список задач, отобранных для реализации.  
`In progress` - задачи в стадии разработки.  
`Review`      - задачи в стадии code-review.  
`Done`        - задачи в стадии "завершенно".  

Git-flow используется облегченный.  
Ориентированный для удобства 1 человека, или небольшой группы:  
 - вся работа делается в отдельных ветках.  
 - по завершению задачи, изменения сразу вливаются в master.  

Детальное описание
------------------

1. У нас есть общий список задач `Backlog`,  
   в который любой участник проекта может добавить важные, на его взгляд, задачи.  
   Но не все эти задачи в итоге попадут в разработку.  
   Задачи в данном списке - это скорее пожелание, а не сигнал к действию.  
   Руководитель проекта может удалить задачу, если сочтет её неуместной.  
   Актуальные, по его мнению, задачи он перемещает в список `To do`.  

2. `To do` - это список задач, которые были отобраны к исполнению.  
   Здесь находятся задачи, которые ожидают,  
   когда кто-нибудь из разработчиков возьмет их к себе в разработку.  
   `Примечание` Для маленьких проектов список `Backlog` может отсутствовать.  
   В этом случае, его роль берёт на себя список `To do`.  

3. Один разработчик единовременно исполняет только одну задачу.  
   Пока одну не доделал, на другие не переключается.  

4. Завершив очередную задачу,  
   разработчик принимает следующую из списка `To do`.  
   При этом он должен забирать всегда только самую верхнюю в списке.  
   Порядок расположения задач в списке имеет значение.  
   Чем выше - тем более приоритетная задача.  
   Приоритет задаёт руководитель (он может менять карточки местами).  

5. Когда разработчик берет задачу в разработку,  
   то первое, что он должен сделать - создать от мастера новую ветку.  
   Имя ветки должно совпадать с названием задачи: `#ticket_ИмяЗадачи`.  
   `ticket` - числовой идентификатор задачи в треккере задач.  

6. Создав ветку, разработчик первым делом должен добавить файл:  
       `docs\tasks\{data}-{id}-{name}.md`  
   В этот файл [дублируется описание задачи](020-task.md) из треккера.  
   Это нужно, что бы можно было в любой момент переехать на другой треккер,  
   не боясь потерять историю задач.  

7. Далее разработчик уже работает в своей ветке так, как ему самому удобно.  
   Он может делать столько коммитов, сколько захочет.  
   `Примечание` Крайне нежелательно вносить изменения,  
   которые не имеют отношения к текущей задаче.  
   Для таких изменений лучше завести свою отдельную задачу.  

8. Если задача по времени исполняется несколько рабочих дней,  
   то разработчик **должен** каждый день пушить свою ветку  
   на удаленный сервер.  

9. Когда задача выполнена, разработчик должен привести ветку в порядок:  
     - 9.1. Весь мусор должен быть убран (не должно быть закомментированного кода)  
     - 9.2. Из бранча нужно убрать всё, что понапрасну будет отвлекать код-ревьюверов.  
     - 9.3. Все изменения должны быть зафиксированы.  
     - 9.4. Коммиты должны быть [правильно][COMMIT] оформлены.  
     - 9.5. Проект должен собираться без ошибок и предупреждений.  
     - 9.6. Решение должно быть уже протестированно в тестовой среде.  
     - 9.7. Все авто-тесты должны быть зелеными.  
     - 9.8. Документация в каталоге `docs` уже должна учитывать текущие изменения,  
            и быть в актуальном состоянии.  

[COMMIT]: 030-commit.md  "правила оформления коммитов"  

10. Далее, разработчик создает 'пулл-реквест'.  
    Пулл-реквест - это запрос на внесение изменений в кодовую базу.  
    Имя пулл-реквеста должно совпадать с именем бранча,  
    только вначале пишется слово `fix`.  
    Например: `fix ИмяБранча`.  
    На этом этапе, готовое решение задачи будет проходить "код-ревью".  

    <details>
    <summary>Детали</summary>

    Слово `fix` используется github 
    для автоматической связи пулл-реквеста с карточкой заачи.  
    
    Вместо него можно использовать префикс `PR` или `pull-request`  
    Главное, что бы в названии фигурировал какой то префикс,  
    с помощью которого сразу можно было бы понять,  
    что данная карточка - это пулл-реквест.  
    
    --------------------

    </details>  

11. На этапе код-ревью могут быть выявлены различные дефекты,  
    и возникнуть притензии.  
    В этом случае ветка дорабатывается,  
    притензии удовлетворяются, дефекты устраняются.  
    После чего пулл-реквест обновляется,  
    и код-ревью проходит повторно.  
    И так до тех пор, пока пулл-реквест не будет одобрен.  

12. После одобрения пул-реквеста, ветка сливается с мастером,  
    и задача в треккере закрывается.  

13. Теперь разработчик готов взять следующую задачу из списка 'To do'.  

14. По мере решения задач, ветка master начинает накапливать готовые пулл-реквесты.  
    В какой то момент, когда руководитель сочтет нужным, в master создается тэг.  
    Тэг - именованный коммит, содержащий очередную версию продукта.  
    Появление такого тэга означает, что очередная версия продукта готова к релизу.  

15. Версия продукта должна увеличиваться в соответствии  
    с правилами [версионирования][SV].  

16. Коммит новой версии может включать только:  
      - Изменение собственно версии продукта.  
      - Добавление записи в файле [истории][HISTORY] проекта.  
      - Замена PRE версий на актуальные в документации.  
      - Замена PRE версий на актуальные в исходниках.  

[HISTORY]: 040-history.md  "правила оформления истории проекта"  

17. Релизный проект собирается, проходит последние тесты.  
    И если всё хорошо - заменяется номер версии на логотипе продукта.  

18. После чего сам продукт может уйти в продакшен.  


[KANBAN]: https://skillbox.ru/media/management/vse_chto_nuzhno_znat_o_kanban     
          "описание концепции канбан"  





